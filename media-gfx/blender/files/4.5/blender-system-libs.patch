--- a/extern/CMakeLists.txt
+++ b/extern/CMakeLists.txt
@@ -61,7 +61,7 @@ if(WITH_GHOST_X11 AND WITH_GHOST_XDND)
   add_subdirectory(xdnd)
 endif()
 
-if(WITH_LIBMV)
+if(WITH_LIBMV AND NOT WITH_SYSTEM_CERES)
   add_subdirectory(ceres)
 endif()
 
@@ -69,10 +69,12 @@ if(WITH_LIBMV OR WITH_GTESTS OR (WITH_CY
   if(NOT WITH_SYSTEM_GFLAGS)
     add_subdirectory(gflags)
   endif()
-  add_subdirectory(glog)
+  if(NOT WITH_SYSTEM_GLOG)
+    add_subdirectory(glog)
+  endif()
 endif()
 
-if(WITH_GTESTS)
+if(WITH_GTESTS AND NOT WITH_SYSTEM_GTESTS)
   add_subdirectory(gtest)
   add_subdirectory(gmock)
 endif()
